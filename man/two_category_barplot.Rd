% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/two_category_barplot.R
\name{two_category_barplot}
\alias{two_category_barplot}
\title{Create a Two-Category Stacked Bar Plot}
\usage{
two_category_barplot(
  data,
  category,
  subcategory,
  title = "Percent stacked barchart",
  legend_title = NULL
)
}
\arguments{
\item{data}{A data frame containing the variables to plot}

\item{category}{Character string specifying the column name for the main
category (x-axis). Will be converted to a factor if not already.}

\item{subcategory}{Character string specifying the column name for the
subcategory (fill variable). Will be converted to a factor if not already.}

\item{title}{Character string for the plot title. Default is
"Percent stacked barchart".}

\item{legend_title}{Character string for the legend title. If NULL (default),
uses the subcategory variable name.}
}
\value{
A ggplot2 object representing the stacked bar chart
}
\description{
Generates a 100% stacked bar chart showing the proportional breakdown of a
subcategory within each level of a main category. Uses the dittoSeq color
palette for consistent visualization.
}
\details{
The function creates a proportional stacked bar chart where each bar
represents 100% of the observations in that category level. The bars are
filled according to the subcategory proportions. Colors are assigned using
the dittoSeq color palette, which is designed for accessibility and
consistency with single-cell visualization tools.
}
\examples{
# Basic usage with mpg dataset
library(dplyr)
library(ggplot2)

# Vehicle class distribution by manufacturer
two_category_barplot(mpg,
                     category = "manufacturer",
                     subcategory = "class")

# With custom title and legend
two_category_barplot(mpg,
                     category = "year",
                     subcategory = "manufacturer",
                     title = "Manufacturer Distribution by Year",
                     legend_title = "Manufacturer")

# Cell type composition across samples (single-cell example)
\dontrun{
# Assuming seurat_obj is a Seurat object with metadata
metadata <- seurat_obj@meta.data
two_category_barplot(metadata,
                     category = "sample_id",
                     subcategory = "cell_type",
                     title = "Cell Type Composition Across Samples",
                     legend_title = "Cell Type")
}
}
